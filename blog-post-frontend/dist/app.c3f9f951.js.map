{"version":3,"sources":["js/components/Header.js","js/components/Home.js","js/components/Posts.js","js/components/Post.js","js/components/Footer.js","js/components/PostUpdate.js","js/api/api-actions.js","js/app.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["Header","Home","Posts","posts","map","post","title","content","_id","join","Post","Footer","PostUpdate","getRequest","location","callback","fetch","then","response","json","data","catch","err","console","log","postRequest","requestBody","method","body","JSON","stringify","headers","deleteRequest","pageBuild","header","navHome","navPosts","footer","document","querySelector","innerHTML","homeButton","addEventListener","postsButton","apiActions","app","event","target","classList","contains","postTitle","parentElement","value","postBody","postData","setTimeout","postId","bundleURL","getBundleURLCached","getBundleURL","Error","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","i","length","module"],"mappings":"AQAA,ACAA,IDAIyD,ACAAW,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;AFAA,ACCA,ACCA,SDDSX,ACCAY,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDCf,MCCM,GDDX,ACCcc,EDDE,ECCE,CAACE,SAAL,EAAd;AFFF,ACEIhB,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADa,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AFF/B,AEGIH,IAAAA,IAAI,CAACI,MAAL;AHLJ,AFAe,AJAf,ACAe,AEAA,AEAf,AHAe,AMMb,ACAC,GAFD,MHJO9D,AFAeF,AHAAV,AEAAS,ADAAR,AMMfuD,IPNM,AEAA,CAAcpD,ADAd,CEAA,AFAeF,CDAC,EGAE,ADAlB,AKMb,CFNF,CAAoBW,AHAe,ADApB,EAAsB,MIArC,EAA8BC,QAA9B,EAAwC;AACpCC,ACEJ,AHFI,AHAA,AEAA,ADAA,AMMH,EFNGA,KAAK,CAACF,QAAD,CAAL,CACKG,IADL,CACU,UAAAC,GJCRf,KIDgB,AJCX,CAACC,GAAN,CAAU,ECAFC,IAAI,CAACC,GDAHD,ECFZ,EDEgB,EAAI,2BCCXA,IAAI,CAACE,OAHd;AGCkB,AFErB,AJFc,ACKd,AEAA,AELc,AHEP,AOGNiE,EAAAA,OTLsBxE,AKAAY,AIKf,CAACgE,CHLgB1D,GGKxB,CTLa,ESKEqD,CTLgB,CMAC,ADAnB,CCAoBpD,CGKd,CJLgB,AIKfyD,EHLI,EAAJ,AGKL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C,mCPDoB1E,IAAI,CAACC,KAFnB,uCAGaD,IAAI,CAACE,OAHlB,wFAI8DF,IAAI,CAACG,GAJnE;AIFc,ACEtB,APDI,AKAA,AHUC,AMJL,ACDE+D,EAAAA,CHPE,AJEE,EIAGtD,AJUFR,COLD,CAACuE,EHPH,AJEE,AMMGrB,CFNK,AJUF,EAVN,CAFF,IOOF,CAAgBsB,EHLJ7D,CEMd,GFNkB,AEMM,MCDtB,CAA6BoD,OAA7B,EAAsCD,IAAI,CAACW,WAA3C;AHLgB,ANSjB,AKNA,AHiBA,AMbC,ACDD,WHNqBnE,QAAQ,CAACK,IAAD,CAAZ;AAAA,ACElB,ACME,GFVE,EAGKC,CEOH,IFVF,CAGW,UAAAC,GAAG;AAAA,AEQd,ACDJ,IAAI6D,MDCM,CFRY5D,GEQRqC,ACDA,GAAG,CHPY,CAACpC,AEQpB,EAAN,ACDJ,CHPsB,CAAYF,GAAZ,CAAJ;AAAA,ACElB,ACOG,GFZC,AEUF,CAEE,OAAOA,GAAP,EAAY;AFRf,AESG,ACFJ,QDEQuC,CCFCuB,MDEM,GAAG,ACFlB,CDEmB,ECFE,GDEG9D,GAAG,CAACwC,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;ADPJ,AEME,MAAIoB,UAAJ,EAAgB;AHNlB,AEQI,ACDA,QDCItB,CFRCpC,MEQL,EAAa,GFRjB,CAAqBX,QAArB,EAA+BY,WAA/B,EAA4CX,QAA5C,EAAsD;AAClDC,AEQE,ACDH,EHPCA,KAAK,CAACF,KEQGkD,GFRJ,EAAW,KEQG,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AFPElC,AEQH,IFRGA,MAAM,EAAE,MADI;AAEZC,ACDRK,ACSG,ACDDkD,EAAAA,EHPMvD,IAAI,CCDH,CDCKC,EGOF,EHPM,CAACC,AGOJyB,SHPD,CAAe7B,AGOJ,CAAC,UHPZ,CAFM,CGSkB;AHN9BK,AGOJ,IHPIA,IGOAsD,GHPO,EAAE,AGOJ,GAAG/C,QAAQ,CAACgD,gBAAT,CAA0B,wBAA1B,CAAZ;AHNQ,ACDZ,ACSE,SDTOrD,ACSA,GAAP,MDTF,GAAqB,CDCO;AADX,ACCbC,ACSH,ACFG,EFPAA,MAAM,CEOD,IAAIqD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAACG,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AHXvB,ACKhBpD,AEOE,EFPFA,CDLK,CAAL,CAOKlB,IAPL,ACKO,CDEG,AGKJmD,MAAM,CAACJ,GHLH9C,OGKJ,CHLY,AGKMmE,KAAK,CAACE,CAAD,CAAL,CAASX,IAA3B,MAAqCR,MAAM,CAACT,YAAP,EAAzC,EAAgE;AHLhD,ACDlBvB,ACSJ,ACFQkC,EFPJlC,MEOIkC,CDECN,CDTG,CDCc9C,OGMR,CHNgB,AEQlC,ACFmBmE,CHNgBlE,AEQf8C,GAApB,CFR0B,AGMF,CDEC,ACFAsB,CHNH,AGME,CAAN,CAAV;AHNc,ACAlBlD,ACSF,ACFK,EFPHA,CDPA,EAQKpB,GCDC,CDPN,AEgBK,CFRK,AEQJ,KAAKgD,GAAN,EFRK7C,AEQM8C,IFRF,GEQT,CAAmB,sEAAnB,EAA2F,IAA3F,IAAmG,GAA1G;AFRgB,ACAjB,ACSA,ACFI,WHPiBnD,QAAQ,CAACK,IAAD,CAAZ;AAAA,GARd,EASKC,KATL,CASW,UAAAC,GAAG;AAAA,ACClB,ACSA6C,ACFIgB,IAAAA,GDEG,CAACxB,CDTCzB,EDDaX,GGQR,CFPd,EEOiB,CHRY,ACCX,CDDYC,CEU9B,CCFI,CHRkB,CAAYF,AEUXoC,GFVD,CAAJ,cEUlB;AFVkB,ACEd,ACSJS,ACFG,GHlBC,AGSqB,EASpB,CFPKjC,CCSH,ACXkB,CDWjB8B,ACXN,IFEc,GAAG1B,GCSnB,GAAqB0B,EDTM,CAACzB,OCS5B,MDTmB,CAAuB,SAAvB,CAAf;ADDH,ACEGL,AEOH,EFPGA,MAAM,CAACM,SAAP,GAAmB,sBAAnB,CAFc,CAEe;AAChC;ADDD,AGSAiD,MAAM,CAACtB,EHTEnC,KGST,GAAiBoD,KHTjB,CAAuBtE,GGSvB,KHTA,EAAiCC,QAAjC,EAA2C;AACvCC,ACEJ,EDFIA,KAAK,CAACF,CCEDuB,MAAT,CDFS,EAAW,ACEF;ADDVV,ACEJ,IDFIA,ECEEU,IDFI,EAAE,ACEA,GAAGC,KDHC,GCGO,CAACC,aAAT,CAAuB,SAAvB,CAAf;ADDIR,ACEJM,EAAAA,EDFIN,ICEE,CAACS,EDFI,EAAE,KCEb,GAAmB,sBAAnB;ADDQ,ACEX,sBDF2B;AADX;AAFG,ACOpB,GDPS,CAAL,CAMKvB,IANL,ACOKkB,CDDK,MCCd,GAAmB,CDDLjB,QAAQ;AAAA,ACElB,MAAMuB,KDFgBvB,KCEN,GDFc,ACEXoB,CDFYnB,IAAT,EAAJ,CCES,CAACoB,aAAT,CAAuB,iBAAvB,CAAnB;ADFkB,ACGlBE,EAAAA,CDTA,EAOKxB,IAPL,CAOU,ECEA,CAACyB,ODFDtB,IAAI,KCEd,CAA4B,OAA5B,EAAqC,YAAY;ADFnC,ACGVkB,IAAAA,ODHcvB,CCGN,CAACwB,MDHa,CAACnB,IAAD,CAAZ,CCGV,CAAuB,MAAvB,EAA+BoB,SAA/B,GAA2C,oBAA3C;ADHU,ACIb,GDXD,ACSA,EDDKnB,KARL,CAQW,UAAAC,GAAG;AAAA,ACIjB,WDJqBC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,GARd;AASH,ACMD,SAASc,QAAT,GAAoB;AAEhB;AACA,MAAMO,SDPK,ECOM,GAAGL,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAApB;ADNA1B,ACOA8B,EDPA9B,ACOA8B,UDPU,CCOC,CDPX9B,ACOY6B,UDRD,MCQX,CAA6B,OAA7B,EAAsC,YAAY;ADNlDjB,ACOImB,EDPJnB,WAAW,EAAXA,SCOeZ,EDTJ,QCSP,CAAsB,6BAAtB,EAAqD,UAAAV,KAAK,EAAI;ADNlE6B,ACOQM,EDPRN,ICOQM,QAAQ,CDPH,ACOIC,EDPjBP,WCOQ,CAAuB,MAAvB,EAA+BQ,SAA/B,GAA2C,oBAAMrC,KAAN,CAA3C;ADVG,ACWN,KAFD;AAGH,GAJD,EAJgB,CAUhB;;AACA,MAAM0C,GAAG,GAAGP,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAZ;AACAM,EAAAA,GAAG,CAACH,gBAAJ,CAAqB,OAArB,EAA8B,YAAY;AACtC,QAAII,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBC,QAAvB,CAAgC,kBAAhC,CAAJ,EAAyD;AACrD,UAAMC,SAAS,GAAGJ,KAAK,CAACC,MAAN,CAAaI,aAAb,CAA2BZ,aAA3B,CAAyC,sBAAzC,EAAiEa,KAAnF;AACA,UAAMC,QAAQ,GAAGP,KAAK,CAACC,MAAN,CAAaI,aAAb,CAA2BZ,aAA3B,CAAyC,qBAAzC,EAAgEa,KAAjF;AAEA,UAAME,QAAQ,GAAG;AACbhD,QAAAA,KAAK,EAAE4C,SADM;AAEb3C,QAAAA,OAAO,EAAE8C;AAFI,OAAjB;;AAKAT,0BAAWnB,WAAX,CAAuB,6BAAvB,EAAsD6B,QAAtD,EACI,UAACjD,IAAD,EAAU;AACNkB,QAAAA,OAAO,CAACC,GAAR,CAAYnB,IAAZ;AACAiC,QAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,SAA/B,GAA2C,0BAA3C;AACAe,QAAAA,UAAU,CAAC,YAAY;AACnBjB,UAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,SAA/B,GAA2C,mBAAKnC,IAAL,CAA3C;AACH,SAFS,EAEP,IAFO,CAAV;AAGH,OAPL;AAQH;AAEJ,GApBD,EAZgB,CAmChB;;AACAwC,EAAAA,GAAG,CAACH,gBAAJ,CAAqB,OAArB,EAA8B,YAAY;AACtC,QAAII,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBC,QAAvB,CAAgC,qBAAhC,CAAJ,EAA4D;AACxD1B,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,UAAMgC,MAAM,GAAGV,KAAK,CAACC,MAAN,CAAaI,aAAb,CAA2BZ,aAA3B,CAAyC,kBAAzC,EAA6Da,KAA5E;AACA7B,MAAAA,OAAO,CAACC,GAAR,CAAYgC,MAAZ;;AACAZ,0BAAWZ,aAAX,uCAAwDwB,MAAxD,GACI,UAACrD,KAAD,EAAW;AACPmC,QAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,SAA/B,GAA2C,oBAAMrC,KAAN,CAA3C;AACH,OAHL;AAIH;AACJ,GAVD;AAaH","file":"app.c3f9f951.js","sourceRoot":"..","sourcesContent":["import '../../css/style.css';\r\n\r\nexport default function Header() {\r\n    return `\r\n        <nav class= 'nav'>\r\n            <h1 class= 'nav-logo'>BlogPage</h1>\r\n            <ul class= 'nav-list'>\r\n                <li class= 'nav-list__home'>Home</li>\r\n                <li class= 'nav-list__posts'>Posts</li>\r\n            </ul>\r\n        </nav>\r\n    `\r\n}","export default function Home() {\r\n    return `\r\n    <div class='main-content'>\r\n    <h1 class='main-content__welcome'>Welcome to this SPA demo</h1>\r\n    <p class='main-content__text'>Thanks for joining us</p>\r\n    <div>\r\n    `\r\n}","export default function Posts(posts) {\r\n    return `\r\n    <div>\r\n    ${posts.map(post => {\r\n        return `\r\n            <section class='main-content__posts'>\r\n                <h3>${post.title}</h3>\r\n                <p>${post.content}</p>\r\n                <input class='delete-post__id' type='hidden' value=\"${post._id}\">\r\n                <button class='delete-post__submit'>&times</button>\r\n            </section>\r\n        `;\r\n\r\n    }).join('')}\r\n    </div>\r\n    \r\n    <section class='add-post'>\r\n        <input class='add-post__postTitle' type='text' placeholder='post title'>\r\n        <input class='add-post__postBody type='text' placeholder='post body'>\r\n        <button class='add-post__submit'>Submit</button>\r\n    </section>\r\n\r\n    `\r\n}","export default function Post(post) {\r\n    return `\r\n    <section>\r\n        <h3>${post.title}</h3>\r\n        <p>${post.content}</p>\r\n    </section>\r\n    `\r\n}","export default function Footer() {\r\n    return `\r\n        <small>&copy wcci 2019</small>\r\n    `\r\n}","import '../../css/style.css';\r\n\r\nexport default function PostUpdate() {\r\n    return `\r\n    <h2 class='main-content__update'>Post successfully sent</h2>\r\n    `\r\n}","function getRequest(location, callback) {\r\n    fetch(location)\r\n        .then(response => response.json())\r\n        .then(data => callback(data))\r\n        .catch(err => console.log(err));\r\n}\r\n\r\nfunction postRequest(location, requestBody, callback) {\r\n    fetch(location, {\r\n        method: \"POST\",\r\n        body: JSON.stringify(requestBody),\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        }\r\n    })\r\n        .then(response => response.json())\r\n        .then(data => callback(data))\r\n        .catch(err => console.log(err));\r\n}\r\n\r\nfunction deleteRequest(location, callback) {\r\n    fetch(location, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    })\r\n        .then(response => response.json())\r\n        .then(data => callback(data))\r\n        .catch(err => console.log(err))\r\n}\r\n\r\nexport default {\r\n    getRequest,\r\n    postRequest,\r\n    deleteRequest\r\n}","import Header from './components/Header';\r\nimport Home from './components/Home';\r\nimport Posts from './components/Posts';\r\nimport Post from './components/Post';\r\nimport Footer from './components/Footer';\r\nimport PostUpdate from './components/PostUpdate';\r\nimport apiActions from './api/api-actions';\r\nimport '../css/style.css';\r\n\r\npageBuild();\r\n\r\nfunction pageBuild() {\r\n    header();\r\n    navHome();\r\n    navPosts();\r\n    footer();\r\n}\r\n\r\nfunction header() {\r\n    const header = document.querySelector('#header');\r\n    header.innerHTML = Header(); //send component into our html\r\n}\r\n\r\nfunction footer() {\r\n    const footer = document.querySelector('#footer');\r\n    footer.innerHTML = Footer();\r\n}\r\n\r\nfunction navHome() {\r\n    const homeButton = document.querySelector('.nav-list__home');\r\n    homeButton.addEventListener('click', function () {\r\n        document.querySelector('#app').innerHTML = Home();\r\n    })\r\n}\r\n\r\n\r\nfunction navPosts() {\r\n\r\n    //get request\r\n    const postsButton = document.querySelector('.nav-list__posts');\r\n    postsButton.addEventListener('click', function () {\r\n        apiActions.getRequest('http://localhost:3000/posts', posts => {\r\n            document.querySelector('#app').innerHTML = Posts(posts);\r\n        });\r\n    });\r\n\r\n    //post request\r\n    const app = document.querySelector('#app');\r\n    app.addEventListener('click', function () {\r\n        if (event.target.classList.contains('add-post__submit')) {\r\n            const postTitle = event.target.parentElement.querySelector('.add-post__postTitle').value;\r\n            const postBody = event.target.parentElement.querySelector('.add-post__postBody').value;\r\n\r\n            const postData = {\r\n                title: postTitle,\r\n                content: postBody\r\n            }\r\n\r\n            apiActions.postRequest('http://localhost:3000/posts', postData,\r\n                (post) => {\r\n                    console.log(post);\r\n                    document.querySelector('#app').innerHTML = PostUpdate();\r\n                    setTimeout(function () {\r\n                        document.querySelector('#app').innerHTML = Post(post);\r\n                    }, 3000);\r\n                })\r\n        }\r\n\r\n    });\r\n\r\n\r\n    //delete request\r\n    app.addEventListener('click', function () {\r\n        if (event.target.classList.contains('delete-post__submit')) {\r\n            console.log('event triggered');\r\n            const postId = event.target.parentElement.querySelector('.delete-post__id').value;\r\n            console.log(postId);\r\n            apiActions.deleteRequest(`http://localhost:3000/posts/${postId}`,\r\n                (posts) => {\r\n                    document.querySelector('#app').innerHTML = Posts(posts);\r\n                })\r\n        }\r\n    });\r\n\r\n\r\n}","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}